<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="BufferDeque.html">BufferDeque</a></li></li><li><li><a href="SHBufferDeque.html">SHBufferDeque</a></li></li><li><li><a href="internal/Common.html">internal/Common</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.BufferDeque">BufferDeque</a></li></li><li><li><a href="#new">new</a></li></li><li><li><a href="#init">init</a></li></li><li><li><a href="#tabulate">tabulate</a></li></li><li><li><a href="#peekFront">peekFront</a></li></li><li><li><a href="#peekBack">peekBack</a></li></li><li><li><a href="#isEmpty">isEmpty</a></li></li><li><li><a href="#fromArray">fromArray</a></li></li><li><li><a href="#toArray">toArray</a></li></li></ul></nav><div class="documentation"><h1>BufferDeque</h1><p>A Buffer that with an amortized time of O(1) additions at both ends</p>
<div class="declaration"><h4 class="class-declaration" id="type.BufferDeque"><span class="keyword">class </span><span class="classname">BufferDeque</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">init_capacity</span> : <span class="type">Nat</span>)</h4><div class="declaration"><h4 class="function" id="BufferDeque.size"><code><span class="keyword">public func </span><span class="fnname">size</span>() : <span class="type">Nat</span></code></h4><p><p>Returns the number of items in the buffer</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.capacity"><code><span class="keyword">public func </span><span class="fnname">capacity</span>() : <span class="type">Nat</span></code></h4><p><p>Returns the capacity of the deque.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.internal_array"><code><span class="keyword">public func </span><span class="fnname">internal_array</span>() : [?<span class="type">A</span>]</code></h4><p><p>for debugging purposes</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.internal_start"><code><span class="keyword">public func </span><span class="fnname">internal_start</span>() : <span class="type">Nat</span></code></h4><p></p></div><div class="declaration"><h4 class="function" id="BufferDeque.get"><code><span class="keyword">public func </span><span class="fnname">get</span>(<span class="parameter">i</span> : <span class="type">Nat</span>) : <span class="type">A</span></code></h4><p><p>Retrieves the element at the given index.
Traps if the index is out of bounds.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.getOpt"><code><span class="keyword">public func </span><span class="fnname">getOpt</span>(<span class="parameter">i</span> : <span class="type">Nat</span>) : ?<span class="type">A</span></code></h4><p><p>Retrieves an element at the given index, if it exists.
If not it returns <code>null</code>.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.put"><code><span class="keyword">public func </span><span class="fnname">put</span>(<span class="parameter">i</span> : <span class="type">Nat</span>, <span class="parameter">elem</span> : <span class="type">A</span>)</code></h4><p><p>Overwrites the element at the given index.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.reserve"><code><span class="keyword">public func </span><span class="fnname">reserve</span>(<span class="parameter">capacity</span> : <span class="type">Nat</span>)</code></h4><p><p>Changes the capacity to <code>capacity</code>. Traps if <code>capacity</code> &lt; <code>size</code>.</p>
<pre><code>motoko include=initialize

buffer.reserve(4);
buffer.add(10);
buffer.add(11);
buffer.capacity(); // =&gt; 4</code></pre>

<p>Runtime: O(capacity)</p>
<p>Space: O(capacity)</p>
<blockquote><p>Adapted from the base implementation of the <code>Buffer</code> class</p>
</blockquote></p></div><div class="declaration"><h4 class="function" id="BufferDeque.addFront"><code><span class="keyword">public func </span><span class="fnname">addFront</span>(<span class="parameter">elem</span> : <span class="type">A</span>)</code></h4><p><p>Adds an element to the start of the buffer.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.addBack"><code><span class="keyword">public func </span><span class="fnname">addBack</span>(<span class="parameter">elem</span> : <span class="type">A</span>)</code></h4><p><p>Adds an element to the end of the buffer</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.popFront"><code><span class="keyword">public func </span><span class="fnname">popFront</span>() : ?<span class="type">A</span></code></h4><p><p>Removes an element from the start of the buffer and returns it if it exists.
If the buffer is empty, it returns <code>null</code>.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.popBack"><code><span class="keyword">public func </span><span class="fnname">popBack</span>() : ?<span class="type">A</span></code></h4><p><p>Removes an element from the end of the buffer and returns it if it exists.
If the buffer is empty, it returns <code>null</code>.
Runtime: <code>O(1)</code> amortized</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.clear"><code><span class="keyword">public func </span><span class="fnname">clear</span>()</code></h4><p><p>Removes all elements from the buffer and resizes it to the default capacity.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.append"><code><span class="keyword">public func </span><span class="fnname">append</span>(<span class="parameter">other</span> : <a href="#type.BufferInterface"><span class="type">BufferInterface</span></a>&lt;<span class="type">A</span>&gt;)</code></h4><p><p>Adds all the elements in the given buffer to the end of this buffer.
The <code>BufferInterface&lt;A&gt;</code> type is used to allow for any type that has a <code>size</code> and <code>get</code> method.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.prepend"><code><span class="keyword">public func </span><span class="fnname">prepend</span>(<span class="parameter">other</span> : <a href="#type.BufferInterface"><span class="type">BufferInterface</span></a>&lt;<span class="type">A</span>&gt;)</code></h4><p><p>Adds all the elements in the given buffer to the start of this buffer.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.remove"><code><span class="keyword">public func </span><span class="fnname">remove</span>(<span class="parameter">i</span> : <span class="type">Nat</span>) : <span class="type">A</span></code></h4><p><p>Removes an element at the given index and returns it. Traps if the index is out of bounds.
Runtime: <code>O(min(i, size - i))</code></p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.removeRange"><code><span class="keyword">public func </span><span class="fnname">removeRange</span>(<span class="parameter">_start</span> : <span class="type">Nat</span>, <span class="parameter">end</span> : <span class="type">Nat</span>) : [<span class="type">A</span>]</code></h4><p><p>Removes a range of elements from the buffer and returns them as an array.
Traps if the range is out of bounds.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.range"><code><span class="keyword">public func </span><span class="fnname">range</span>(<span class="parameter">start</span> : <span class="type">Nat</span>, <span class="parameter">end</span> : <span class="type">Nat</span>) : <span class="type">Iter.Iter</span>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Returns an iterator over the elements of the buffer.
Note: The values in the iterator will change if the buffer is modified before the iterator is consumed.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.swap"><code><span class="keyword">public func </span><span class="fnname">swap</span>(<span class="parameter">i</span> : <span class="type">Nat</span>, <span class="parameter">j</span> : <span class="type">Nat</span>)</code></h4><p><p>Swaps the elements at the given indices.</p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.rotateLeft"><code><span class="keyword">public func </span><span class="fnname">rotateLeft</span>(<span class="parameter">n</span> : <span class="type">Nat</span>)</code></h4><p><p>Rotates the buffer to the left by the given amount.
Runtime: <code>O(min(n, size - n))</code></p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.rotateRight"><code><span class="keyword">public func </span><span class="fnname">rotateRight</span>(<span class="parameter">n</span> : <span class="type">Nat</span>)</code></h4><p><p>Rotates the buffer to the right by the given amount.
Runtime: <code>O(min(n, size - n))</code></p>
</p></div><div class="declaration"><h4 class="function" id="BufferDeque.vals"><code><span class="keyword">public func </span><span class="fnname">vals</span>() : <span class="type">Iter.Iter</span>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Returns an iterator over the elements of the buffer.</p>
</p></div><p></p></div><div class="declaration"><h4 class="function" id="new"><code><span class="keyword">public func </span><span class="fnname">new</span>&lt;<span class="type">A</span>&gt;() : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Creates an empty buffer.</p>
</p></div><div class="declaration"><h4 class="function" id="init"><code><span class="keyword">public func </span><span class="fnname">init</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">capacity</span> : <span class="type">Nat</span>, <span class="parameter">val</span> : <span class="type">A</span>) : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Creates a buffer with the given capacity and initializes all elements to the given value.</p>
</p></div><div class="declaration"><h4 class="function" id="tabulate"><code><span class="keyword">public func </span><span class="fnname">tabulate</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">capacity</span> : <span class="type">Nat</span>, <span class="parameter">f</span> : <span class="type">Nat</span> -&gt; <span class="type">A</span>) : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Creates a buffer with the given capacity and initializes all elements using the given function.</p>
</p></div><div class="declaration"><h4 class="function" id="peekFront"><code><span class="keyword">public func </span><span class="fnname">peekFront</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">buffer</span> : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;) : ?<span class="type">A</span></code></h4><p><p>Returns the element at the front of the buffer, or <code>null</code> if the buffer is empty.</p>
</p></div><div class="declaration"><h4 class="function" id="peekBack"><code><span class="keyword">public func </span><span class="fnname">peekBack</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">buffer</span> : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;) : ?<span class="type">A</span></code></h4><p><p>Returns the element at the back of the buffer, or <code>null</code> if the buffer is empty.</p>
</p></div><div class="declaration"><h4 class="function" id="isEmpty"><code><span class="keyword">public func </span><span class="fnname">isEmpty</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">buffer</span> : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;) : <span class="type">Bool</span></code></h4><p><p>Checks if the buffer is empty.</p>
</p></div><div class="declaration"><h4 class="function" id="fromArray"><code><span class="keyword">public func </span><span class="fnname">fromArray</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">arr</span> : [<span class="type">A</span>]) : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;</code></h4><p><p>Creates a buffer from the given array.</p>
</p></div><div class="declaration"><h4 class="function" id="toArray"><code><span class="keyword">public func </span><span class="fnname">toArray</span>&lt;<span class="type">A</span>&gt;(<span class="parameter">buffer</span> : <a href="#type.BufferDeque"><span class="type">BufferDeque</span></a>&lt;<span class="type">A</span>&gt;) : [<span class="type">A</span>]</code></h4><p><p>Returns the buffer as an array.</p>
</p></div></div></body></html>